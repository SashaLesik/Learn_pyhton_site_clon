{% extends 'base.html' %}

{% block title %}
OLX-Клон
{% endblock %}


 {% block body %}

    <h1>
        Сайт объявлений
    </h1>
    <div class= 'row'>
        <div class= "col-8">
            <h2> Объявления </h2>
            <h4>(Page {{ pagination.page }})</h4>
            {% for ad in pagination.items %}
            <h3> <a href = "{{ ad.url }}">{{ ad.ads_name }} </a>  </h3>
            <p>{{ ad.ads_content}}</p>
            <p>{{ ad.phone_number}}</p>
            <p>{{ ad.seller_name}}</p>
            <p>{{ ad.date_registered.strftime('%Y-%m-%d')}}</p>
            <p>{{ ad.date_posted.strftime('%Y-%m-%d') }}</p>
            <p>{{ ad.date_of_last_visit.strftime('%Y-%m-%d') }}</p>
            <p>{{ ad.number_of_looks }}</p>
            <p>{{ ad.location}}</p>
            <p>{{ ad.category}}</p>
            <img src ="{{ ad.picture_url }}" alt ="no picture today, sorry" >
            {% endfor %}
        </div>
        </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>


<nav aria-label="Page navigation example">
  <ul class="pagination justify-content-center">
     {% for page_num in pagination.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
       {% if page_num %}
           {% if pagination.page==page_num %}
               <li class='page-item disabled'>
               <a class="page-link" href="{{ url_for('adverts.adverts', page=page_num)}}">{{ page_num }}</a>
               </li>
           {% else %}
               <li class='page-item'>
               <a class="page-link" href="{{ url_for('adverts.adverts', page=page_num)}}">{{ page_num }}</a>
               </li>
           {% endif %}

       {% endif %}
     {% endfor %}
   </ul>
</nav>

{% endblock %}

